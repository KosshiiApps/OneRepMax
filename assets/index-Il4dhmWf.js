var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&s(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));function c(e,t){return"kg"===t?Math.round(2*e)/2:Math.round(e)}function u(e,t){return e*(1+t/30)}function d(e,t){return t>=37?e:e*(36/(37-t))}function p(e,t){return e*Math.pow(t,.1)}function g(e,t,n){const r={epley:u(e,t),brzycki:d(e,t),lombardi:p(e,t)},i=function(e){if(0===e.length)return 0;if(1===e.length)return e[0];const t=[...e].sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2==0?(t[n-1]+t[n])/2:t[n]}(n.map(e=>r[e]));return l(o({},r),{best:i})}function m(e,t){const n=t.plates.filter(e=>e.available).sort((e,t)=>t.weight-e.weight);let r=(e-t.bar)/2;const i=[];let a=t.bar;if(r<=0)return{plates:[],total:t.bar,remainder:Math.abs(r)};for(const o of n)r>=o.weight&&(i.push(o),r-=o.weight,a+=2*o.weight);const s="kg"===t.unit?Math.round(2*r)/2:Math.round(r);return{plates:i,total:a,remainder:Math.max(0,s)}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const f=[{percentage:0,reps:8,description:"Empty bar"},{percentage:40,reps:5,description:"Light warm-up"},{percentage:60,reps:3,description:"Moderate warm-up"},{percentage:75,reps:2,description:"Heavy warm-up"},{percentage:85,reps:1,description:"Working weight prep"}];function h(e,t,n){const r=[];for(const i of f){let a,s;if(0===i.percentage)a=n.bar,s="Bar only";else{a=Math.round(e*i.percentage/100);const r=m(a,n);if(0===r.plates.length)s=`${n.bar} ${t} bar`;else{const e=r.plates.map(e=>`${e.weight} ${t}`).join(" + ");s=`${n.bar} bar + ${e} per side`}}r.push({percentage:i.percentage,reps:i.reps,weight:a,plates:s,description:i.description})}return{sets:r,workingWeight:e,unit:t}}const v="onerepmax_state",b={weight:100,reps:5,unit:"kg",bar:20,plateConfig:{unit:"kg",bar:20,plates:[{weight:25,available:!0},{weight:20,available:!0},{weight:15,available:!0},{weight:10,available:!0},{weight:5,available:!0},{weight:2.5,available:!0},{weight:1.25,available:!0},{weight:.5,available:!0}]}};function w(e){try{localStorage.setItem(v,JSON.stringify(e))}catch(t){}}function y(e){const t=function(e){const t=new URLSearchParams;t.set("w",e.weight.toString()),t.set("r",e.reps.toString()),t.set("unit",e.unit),t.set("bar",e.bar.toString());const n=e.plateConfig.plates.map(e=>e.available?1:0);return t.set("plates",encodeURIComponent(JSON.stringify(n))),`${window.location.pathname}?${t.toString()}`}(e);window.history.replaceState({},"",t)}const x="onerepmax_analytics_consent",E="repmax.app";function $(e){try{localStorage.setItem(x,JSON.stringify(e))}catch(t){}}function L(){const e=function(){try{const e=localStorage.getItem(x);if(e)return JSON.parse(e)}catch(e){}return null}();return!0===(null==e?void 0:e.analytics)}function M(){if(!L())return;const e=document.createElement("script");e.defer=!0,e.setAttribute("data-domain",E),e.src="https://plausible.io/js/script.js";const t=document.querySelector('script[data-domain="'+E+'"]');t&&t.remove(),document.head.appendChild(e)}function C(){L()?M():function(){var e,t;if(L())return;const n=document.createElement("div");n.id="consent-banner",n.className="fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 p-4 z-50",n.innerHTML='\n    <div class="mx-auto max-w-2xl flex flex-col sm:flex-row items-start sm:items-center gap-4">\n      <div class="flex-1">\n        <p class="text-sm text-gray-300">\n          We use privacy-friendly analytics to improve our service. \n          <a href="/privacy" class="underline hover:text-gray-200">Learn more</a>\n        </p>\n      </div>\n      <div class="flex gap-2">\n        <button id="consent-accept" class="px-4 py-2 bg-blue-500 hover:bg-blue-400 text-slate-950 font-medium rounded-lg transition">\n          Accept\n        </button>\n        <button id="consent-decline" class="px-4 py-2 bg-slate-800 hover:bg-slate-700 text-gray-300 font-medium rounded-lg transition">\n          Decline\n        </button>\n      </div>\n    </div>\n  ',document.body.appendChild(n),null==(e=document.getElementById("consent-accept"))||e.addEventListener("click",()=>{$({analytics:!0,timestamp:Date.now()}),n.remove(),M()}),null==(t=document.getElementById("consent-decline"))||t.addEventListener("click",()=>{$({analytics:!1,timestamp:Date.now()}),n.remove()})}()}let I,B=null;const S=[{percent:95,reps:"2-3",description:"Maximal strength"},{percent:90,reps:"3-4",description:"Heavy strength"},{percent:85,reps:"5-6",description:"Strength endurance"},{percent:80,reps:"7-8",description:"Hypertrophy"},{percent:75,reps:"8-10",description:"Muscle building"},{percent:70,reps:"10-12",description:"Endurance"},{percent:65,reps:"12-15",description:"Light endurance"},{percent:60,reps:"15+",description:"Technique work"},{percent:50,reps:"Technique",description:"Form practice"}];function R(){C();const e=function(){try{const e=localStorage.getItem(v);if(e){const t=JSON.parse(e);return o(o({},b),t)}}catch(e){}return o({},b)}(),t=function(){const e=new URLSearchParams(window.location.search),t={},n=parseFloat(e.get("w")||"");!isNaN(n)&&n>0&&(t.weight=n);const r=parseInt(e.get("r")||"");!isNaN(r)&&r>=1&&r<=20&&(t.reps=r);const i=e.get("unit");"kg"!==i&&"lb"!==i||(t.unit=i);const a=parseFloat(e.get("bar")||"");!isNaN(a)&&a>0&&(t.bar=a);const s=e.get("plates");if(s&&t.unit)try{const e=JSON.parse(decodeURIComponent(s));Array.isArray(e)&&(t.plateConfig=l(o({},b.plateConfig),{unit:t.unit,bar:t.bar||b.bar,plates:e.map((e,t)=>{var n;return{weight:(null==(n=b.plateConfig.plates[t])?void 0:n.weight)||0,available:Boolean(e)}})}))}catch(c){}return t}();if(I=function(e,t){return o(o({},e),t)}(e,t),B={form:document.getElementById("calc-form"),weight:document.getElementById("weight"),unit:document.getElementById("unit"),reps:document.getElementById("reps"),result:document.getElementById("result"),best1RM:document.getElementById("best-1rm"),percentages:document.getElementById("percentages"),percentagesGrid:document.getElementById("percentages-grid"),warmup:document.getElementById("warmup"),warmupInput:document.getElementById("warmup-input"),warmupResult:document.getElementById("warmup-result"),shareButton:document.getElementById("share-button"),errorAlert:document.getElementById("error-alert")},function(){if(!B)return;B.form.addEventListener("submit",N),B.weight.addEventListener("input",O),B.unit.addEventListener("change",k),B.reps.addEventListener("input",A),B.warmupInput.addEventListener("input",T),B.shareButton.addEventListener("click",P)}(),F(),y(I),null==B?void 0:B.warmupResult){const e=h(100,I.unit,I.plateConfig);B.warmupResult.innerHTML=`\n      <div class="text-center text-gray-400 py-4 mb-4">\n        <div class="text-sm">Example warm-up plan (100 ${I.unit})</div>\n      </div>\n    `,D(e)}}function N(e){if(e.preventDefault(),!B)return;const t=parseFloat(B.weight.value),n=parseInt(B.reps.value),r=function(e,t){return e<=0?"Weight must be greater than 0":t<1||t>20?"Reps must be between 1 and 20":t>10?"Estimates less accurate at >10 reps":null}(t,n);if(r)return void H(r);I.weight=t,I.reps=n;const i=g(t,n,["epley","brzycki","lombardi"]);I.lastCalculation={weight:t,reps:n,unit:I.unit,best1RM:i.best},w(I),y(I),F(),function(){if(!(null==B?void 0:B.errorAlert))return;B.errorAlert.classList.add("hidden")}()}function O(){B&&(I.weight=parseFloat(B.weight.value)||0,y(I))}function k(){if(!B)return;const e=B.unit.value;e!==I.unit&&(I.weight=Math.round(I.weight*("kg"===e?.453592:2.20462)),I.bar="kg"===e?20:45,I.plateConfig.unit=e,I.plateConfig.bar=I.bar,w(I),y(I),F())}function A(){B&&(I.reps=parseInt(B.reps.value)||0,y(I))}function T(){if(!B)return;const e=parseFloat(B.warmupInput.value);if(isNaN(e)||e<=0)return void(B.warmupResult.innerHTML="");D(h(e,I.unit,I.plateConfig))}function P(){return e=this,t=null,n=function*(){if(!B)return;if(!I.lastCalculation)return void H("No calculation to share");const{weight:e,reps:t,unit:n,best1RM:r}=I.lastCalculation,i=`1RM Calculator Results:\n• Weight: ${e} ${n} × ${t} reps\n• Estimated 1RM: ${c(r,n)} ${n}\n• Key percentages:\n  - 80%: ${c(.8*r,n)} ${n} (3-5 reps)\n  - 85%: ${c(.85*r,n)} ${n} (2-3 reps)\n  - 90%: ${c(.9*r,n)} ${n} (1-2 reps)\n  - 95%: ${c(.95*r,n)} ${n} (1 rep)`;try{navigator.share?yield navigator.share({title:"My 1RM Calculation Results",text:i,url:window.location.href}):(yield navigator.clipboard.writeText(i),j())}catch(a){try{yield navigator.clipboard.writeText(i),j()}catch(s){}}},new Promise((r,i)=>{var a=e=>{try{o(n.next(e))}catch(t){i(t)}},s=e=>{try{o(n.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);o((n=n.apply(e,t)).next())});var e,t,n}function j(){if(!(null==B?void 0:B.shareButton))return;const e=B.shareButton.textContent;B.shareButton.textContent="Copied!",B.shareButton.classList.add("bg-emerald-500"),setTimeout(()=>{(null==B?void 0:B.shareButton)&&(B.shareButton.textContent=e,B.shareButton.classList.remove("bg-emerald-500"))},2e3)}function H(e){(null==B?void 0:B.errorAlert)&&(B.errorAlert.textContent=e,B.errorAlert.classList.remove("hidden"),window.matchMedia("(prefers-reduced-motion: reduce)").matches||(B.errorAlert.classList.add("animate-wiggle"),setTimeout(()=>{(null==B?void 0:B.errorAlert)&&B.errorAlert.classList.remove("animate-wiggle")},200)))}function F(){if(B)if(B.weight.value=I.weight.toString(),B.unit.value=I.unit,B.reps.value=I.reps.toString(),I.lastCalculation){const e=g(I.lastCalculation.weight,I.lastCalculation.reps,["epley","brzycki","lombardi"]);if(function(e){if(!B)return;const t=I.unit,n=c(e.best,t);B.best1RM.textContent=`${n} ${t}`,B.best1RM.title=`Exact: ${e.best.toFixed(2)} ${t}`}(e),function(e){if(!(null==B?void 0:B.percentagesGrid))return;const t=I.unit;B.percentagesGrid.innerHTML="",S.forEach(({percent:n,reps:r,description:i})=>{const a=c(e*n/100,t),s=document.createElement("div");s.className="flex items-center justify-between rounded-lg border border-slate-800 p-3",s.innerHTML=`\n      <div>\n        <span class="text-gray-400">${n}% (${r})</span>\n        <div class="text-xs text-gray-500">${i}</div>\n      </div>\n      <span class="font-semibold" data-percent="${n}">${a} ${t}</span>\n    `,(null==B?void 0:B.percentagesGrid)&&B.percentagesGrid.appendChild(s)})}(e.best),B.result.classList.remove("hidden"),B.percentages.classList.remove("hidden"),B.warmup.classList.remove("hidden"),B.warmupInput){B.warmupInput.value=e.best.toString();D(h(e.best,I.unit,I.plateConfig))}}else B.result.classList.add("hidden"),B.percentages.classList.add("hidden"),B.warmup.classList.add("hidden")}function D(e){(null==B?void 0:B.warmupResult)&&(B.warmupResult.innerHTML="",e.sets.forEach(t=>{const n=document.createElement("div");n.className="flex items-center justify-between rounded-lg border border-slate-800 p-3",n.innerHTML=`\n      <div>\n        <div class="font-medium">${0===t.percentage?"Empty bar":`${t.percentage}%`} × ${t.reps}</div>\n        <div class="text-sm text-gray-400">${t.description}</div>\n      </div>\n      <div class="text-right">\n        <div class="font-semibold">${t.weight} ${e.unit}</div>\n        <div class="text-sm text-gray-400">${t.plates}</div>\n      </div>\n    `,(null==B?void 0:B.warmupResult)&&B.warmupResult.appendChild(n)}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",R):R();
